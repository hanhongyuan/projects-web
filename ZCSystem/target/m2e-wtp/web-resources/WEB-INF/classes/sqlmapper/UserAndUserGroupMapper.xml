<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.unisk.zc.mapper.UserAndUserGroupMapper">
	<resultMap id="BaseResultMap" type="com.unisk.zc.entitys.UserAndUserGroup">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. -->
		<id column="ID" property="id" jdbcType="INTEGER" />
		<result column="USERID" property="userid" jdbcType="INTEGER" />
		<result column="USERGROUPID" property="usergroupid" jdbcType="INTEGER" />
		<result column="DELMARK" property="delmark" jdbcType="INTEGER" />
		<result column="CREATETIME" property="createtime" jdbcType="TIMESTAMP" />
		<result column="CREATEUSERID" property="createuserid" jdbcType="INTEGER" />
		<result column="MODIFYTIME" property="modifytime" jdbcType="TIMESTAMP" />
		<result column="MODIFYUSERID" property="modifyuserid" jdbcType="INTEGER" />
		<result column="WECHATSTATUS" property="wechatstatus"  jdbcType="INTEGER" />
	</resultMap>
	<resultMap type="java.util.Map" id="PageResultMap" extends="BaseResultMap"></resultMap>
	<sql id="Base_Column_List">
		ID, USERID, USERGROUPID, DELMARK, CREATETIME, CREATEUSERID,
		MODIFYTIME, MODIFYUSERID,WECHATSTATUS
	</sql>
	<sql id="Base_Where_Clause">
		where DELMARK = 0
		<trim  suffixOverrides=",">
			<if test="id != null">
				and ID=#{id,jdbcType=INTEGER}
			</if>
			<if test="userid != null">
				and USERID=#{userid,jdbcType=INTEGER}
			</if>
			<if test="usergroupid != null">
				and USERGROUPID=#{usergroupid,jdbcType=INTEGER}
			</if>
			<if test="delmark != null">
				and DELMARK=#{delmark,jdbcType=INTEGER}
			</if>
			<if test="createtime != null">
				and CREATETIME=#{createtime,jdbcType=TIMESTAMP}
			</if>
			<if test="createuserid != null">
				and CREATEUSERID=#{createuserid,jdbcType=INTEGER}
			</if>
			<if test="modifytime != null">
				and MODIFYTIME=#{modifytime,jdbcType=TIMESTAMP},
			</if>
			<if test="modifyuserid != null">
				and MODIFYUSERID#{modifyuserid,jdbcType=INTEGER}
			</if>
		</trim>
	</sql>
	<select id="selectByPrimaryKey" resultMap="BaseResultMap" parameterType="java.lang.Integer">
		select
		<include refid="Base_Column_List" />
		from TB_R_USER_AND_USERGROUP
		where ID = #{id,jdbcType=INTEGER}
	</select>
	<select id="selectByUniqueIndex" resultMap="BaseResultMap" parameterType="com.unisk.zc.entitys.UserAndUserGroup">
		select
		<include refid="Base_Column_List" />
		from TB_R_USER_AND_USERGROUP
		where USERID = #{userid,jdbcType=INTEGER} and USERGROUPID = #{usergroupid,jdbcType=INTEGER}
	</select>

	<select id="selectList" resultMap="PageResultMap" parameterType="com.unisk.zc.entitys.UserAndUserGroup">
		select
		<include refid="Base_Column_List" />,
		(case d.WECHATSTATUS
	    	when 0 then '未同步'
	    	when 1 then '已同步'
	    	when 2 then '更新失败'
	    	when 3 then '更新成功' 
	    	else ''
	    end) WECHATSTATUSLABEL
		from TB_R_USER_AND_USERGROUP
		<include refid="Base_Where_Clause"></include>
	</select>

	<delete id="deleteByPrimaryKey" parameterType="java.lang.Integer">
		 delete from TB_R_USER_AND_USERGROUP where ID = #{id,jdbcType=INTEGER}
	</delete>
	<insert id="insert" parameterType="com.unisk.zc.entitys.UserAndUserGroup" keyProperty="id" useGeneratedKeys="true">
		insert into TB_R_USER_AND_USERGROUP (ID, USERID, USERGROUPID,
		DELMARK,
		CREATETIME, CREATEUSERID,
		MODIFYTIME, MODIFYUSERID,WECHATSTATUS)
		values
		(#{id,jdbcType=INTEGER}, #{userid,jdbcType=INTEGER},
		#{usergroupid,jdbcType=INTEGER},
		#{delmark,jdbcType=INTEGER},
		#{createtime,jdbcType=TIMESTAMP}, #{createuserid,jdbcType=INTEGER},
		#{modifytime,jdbcType=TIMESTAMP}, #{modifyuserid,jdbcType=INTEGER},
		#{wechatstatus,jdbcType=INTEGER})
	</insert>
	<insert id="insertSelective" parameterType="com.unisk.zc.entitys.UserAndUserGroup"  keyProperty="id" useGeneratedKeys="true">
		insert into TB_R_USER_AND_USERGROUP
		<trim prefix="(" suffix=")" suffixOverrides=",">
			<if test="userid != null">
				USERID,
			</if>
			<if test="usergroupid != null">
				USERGROUPID,
			</if>
			<if test="delmark != null">
				DELMARK,
			</if>
			<if test="createtime != null">
				CREATETIME,
			</if>
			<if test="createuserid != null">
				CREATEUSERID,
			</if>
			<if test="modifytime != null">
				MODIFYTIME,
			</if>
			<if test="modifyuserid != null">
				MODIFYUSERID,
			</if>
			<if test="wechatstatus != null">
		      	WECHATSTATUS,
		    </if>
		</trim>
		<trim prefix="values (" suffix=")" suffixOverrides=",">
			<if test="userid != null">
				#{userid,jdbcType=INTEGER},
			</if>
			<if test="usergroupid != null">
				#{usergroupid,jdbcType=INTEGER},
			</if>
			<if test="delmark != null">
				#{delmark,jdbcType=INTEGER},
			</if>
			<if test="createtime != null">
				#{createtime,jdbcType=TIMESTAMP},
			</if>
			<if test="createuserid != null">
				#{createuserid,jdbcType=INTEGER},
			</if>
			<if test="modifytime != null">
				#{modifytime,jdbcType=TIMESTAMP},
			</if>
			<if test="modifyuserid != null">
				#{modifyuserid,jdbcType=INTEGER},
			</if>
		     <if test="wechatstatus != null">
		      	#{wechatstatus,jdbcType=INTEGER},
		     </if>
		</trim>
	</insert>
	<update id="updateByPrimaryKeySelective" parameterType="com.unisk.zc.entitys.UserAndUserGroup">
		update TB_R_USER_AND_USERGROUP
		<set>
			<if test="userid != null">
				USERID = #{userid,jdbcType=INTEGER},
			</if>
			<if test="usergroupid != null">
				USERGROUPID = #{usergroupid,jdbcType=INTEGER},
			</if>
			<if test="delmark != null">
				DELMARK = #{delmark,jdbcType=INTEGER},
			</if>
			<if test="createtime != null">
				CREATETIME = #{createtime,jdbcType=TIMESTAMP},
			</if>
			<if test="createuserid != null">
				CREATEUSERID = #{createuserid,jdbcType=INTEGER},
			</if>
			<if test="modifytime != null">
				MODIFYTIME = #{modifytime,jdbcType=TIMESTAMP},
			</if>
			<if test="modifyuserid != null">
				MODIFYUSERID = #{modifyuserid,jdbcType=INTEGER},
			</if>
			<if test="wechatstatus != null">
		      	WECHATSTATUS = #{wechatstatus,jdbcType=INTEGER},
		    </if>
		</set>
		where ID = #{id,jdbcType=INTEGER}
	</update>
	<update id="updateByPrimaryKey" parameterType="com.unisk.zc.entitys.UserAndUserGroup">
		update TB_R_USER_AND_USERGROUP
		set USERID = #{userid,jdbcType=INTEGER},
		USERGROUPID = #{usergroupid,jdbcType=INTEGER},
		DELMARK = #{delmark,jdbcType=INTEGER},
		CREATETIME = #{createtime,jdbcType=TIMESTAMP},
		CREATEUSERID = #{createuserid,jdbcType=INTEGER},
		MODIFYTIME = #{modifytime,jdbcType=TIMESTAMP},
		MODIFYUSERID = #{modifyuserid,jdbcType=INTEGER},
		WECHATSTATUS = #{wechatstatus,jdbcType=INTEGER}
		where ID = #{id,jdbcType=INTEGER}
	</update>
</mapper>