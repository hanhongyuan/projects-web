<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.unisk.zc.mapper.ProjectsMapper" >
  <resultMap id="BaseResultMap" type="com.unisk.zc.entitys.Projects" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    <id column="ID" property="id" jdbcType="INTEGER" />
    <result column="PROJECTNAME" property="projectname" jdbcType="VARCHAR" />
    <result column="PROJECTBRIEF" property="projectbrief" jdbcType="VARCHAR" />
    <result column="PROJECTSTATUS" property="projectstatus" jdbcType="INTEGER" />
    <result column="PROJECTLOGO" property="projectlogo" jdbcType="VARCHAR" />
    <result column="COVERIMAGE" property="coverimage" jdbcType="VARCHAR" />
    <result column="STARTTIME" property="starttime" jdbcType="DATE" />
    <result column="CROWDTIME" property="crowdtime" jdbcType="DATE" />
    <result column="EXAMINETIME" property="examinetime" jdbcType="DATE" />
    <result column="ENDTIME" property="endtime" jdbcType="DATE" />
    <result column="AGREECOUNT" property="agreecount" jdbcType="INTEGER" />
    <result column="AGAINSTCOUNT" property="againstcount" jdbcType="INTEGER" />
    <result column="ISALLOWEDAGREE" property="isallowedagree" jdbcType="INTEGER" />
    <result column="MAXAGREELIMIT" property="maxagreelimit" jdbcType="INTEGER" />
    <result column="PARENTID" property="parentid" jdbcType="CHAR" />
    <result column="DELMARK" property="delmark" jdbcType="INTEGER" />
    <result column="CREATETIME" property="createtime" jdbcType="TIMESTAMP" />
    <result column="CREATEUSERID" property="createuserid" jdbcType="INTEGER" />
    <result column="MODIFYTIME" property="modifytime" jdbcType="TIMESTAMP" />
    <result column="MODIFYUSERID" property="modifyuserid" jdbcType="INTEGER" />
    <result column="PROVID" property="provid" jdbcType="VARCHAR" />
  </resultMap>
  <resultMap id="ResultMapWithBLOBs" type="com.unisk.zc.entitys.Projects" extends="BaseResultMap" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    <result column="PROJECTCONTENT" property="projectcontent" jdbcType="LONGVARCHAR" />
  </resultMap>
  <sql id="Base_Column_List" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    ID, PROJECTNAME, PROJECTBRIEF, PROJECTSTATUS, PROJECTLOGO, COVERIMAGE, STARTTIME, 
    CROWDTIME, EXAMINETIME, ENDTIME, AGREECOUNT, AGAINSTCOUNT, ISALLOWEDAGREE, MAXAGREELIMIT, 
    PARENTID, DELMARK, CREATETIME, CREATEUSERID, MODIFYTIME, MODIFYUSERID, PROVID
  </sql>
  <sql id="Blob_Column_List" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    PROJECTCONTENT
  </sql>
  <!-- 查询所有项目 -->
  <select id="selectListMapPage" parameterType="com.unisk.zc.entitys.Projects" resultMap="ResultMapWithBLOBs">
  	select 
    d.ID, d.PROJECTNAME, d.PROJECTBRIEF, d.PROJECTSTATUS, d.PROJECTLOGO, d.COVERIMAGE, d.STARTTIME, d.CROWDTIME, d.EXAMINETIME, 
    d.ENDTIME, d.AGREECOUNT, d.AGAINSTCOUNT, d.ISALLOWEDAGREE, d.MAXAGREELIMIT,
     d.PARENTID, d.DELMARK, d.CREATETIME, d.CREATEUSERID, d.MODIFYTIME, d.MODIFYUSERID,d.PROVID ,
     (select dic.UKEY from TB_D_DICTIONARY dic where dic.UVALUE=d.PROVID and dic.KINDS='COMMON-REGION') as PROVIDLABEL 
    from TB_D_PROJECTS d
    where d.DELMARK = 0 
	<if test="parentid != null">
		and d.PARENTID = #{parentid,jdbcType=CHAR}
	</if>
	<if test="parentid == null">
		and d.PARENTID is null
	</if>
	<if test="projectname != null">
		and d.PROJECTNAME LIKE CONCAT(CONCAT('%', #{projectname,jdbcType=VARCHAR}), '%')
	</if>
  </select>
  <select id="selectByPrimaryKey" resultMap="ResultMapWithBLOBs" parameterType="java.lang.Integer" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    select 
    <include refid="Base_Column_List" />
    ,
    <include refid="Blob_Column_List" />
    from tb_d_projects
    where ID = #{id,jdbcType=INTEGER}
  </select>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.Integer" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    delete from tb_d_projects
    where ID = #{id,jdbcType=INTEGER}
  </delete>
  <insert id="insert" parameterType="com.unisk.zc.entitys.Projects" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    insert into tb_d_projects (ID, PROJECTNAME, PROJECTBRIEF, 
      PROJECTSTATUS, PROJECTLOGO, COVERIMAGE, 
      STARTTIME, CROWDTIME, EXAMINETIME, 
      ENDTIME, AGREECOUNT, AGAINSTCOUNT, 
      ISALLOWEDAGREE, MAXAGREELIMIT, PARENTID, 
      DELMARK, CREATETIME, CREATEUSERID, 
      MODIFYTIME, MODIFYUSERID, PROJECTCONTENT,PROVID
      )
    values (#{id,jdbcType=INTEGER}, #{projectname,jdbcType=VARCHAR}, #{projectbrief,jdbcType=VARCHAR}, 
      #{projectstatus,jdbcType=INTEGER}, #{projectlogo,jdbcType=VARCHAR}, #{coverimage,jdbcType=VARCHAR}, 
      #{starttime,jdbcType=DATE}, #{crowdtime,jdbcType=DATE}, #{examinetime,jdbcType=DATE}, 
      #{endtime,jdbcType=DATE}, #{agreecount,jdbcType=INTEGER}, #{againstcount,jdbcType=INTEGER}, 
      #{isallowedagree,jdbcType=INTEGER}, #{maxagreelimit,jdbcType=INTEGER}, #{parentid,jdbcType=CHAR}, 
      #{delmark,jdbcType=INTEGER}, #{createtime,jdbcType=TIMESTAMP}, #{createuserid,jdbcType=INTEGER}, 
      #{modifytime,jdbcType=TIMESTAMP}, #{modifyuserid,jdbcType=INTEGER}, #{projectcontent,jdbcType=LONGVARCHAR},#{provid,jdbcType=VARCHAR}
      )
  </insert>
  <insert id="insertSelective" parameterType="com.unisk.zc.entitys.Projects" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    insert into tb_d_projects
    <trim prefix="(" suffix=")" suffixOverrides="," >
      <if test="id != null" >
        ID,
      </if>
      <if test="projectname != null" >
        PROJECTNAME,
      </if>
      <if test="projectbrief != null" >
        PROJECTBRIEF,
      </if>
      <if test="projectstatus != null" >
        PROJECTSTATUS,
      </if>
      <if test="projectlogo != null" >
        PROJECTLOGO,
      </if>
      <if test="coverimage != null" >
        COVERIMAGE,
      </if>
      <if test="starttime != null" >
        STARTTIME,
      </if>
      <if test="crowdtime != null" >
        CROWDTIME,
      </if>
      <if test="examinetime != null" >
        EXAMINETIME,
      </if>
      <if test="endtime != null" >
        ENDTIME,
      </if>
      <if test="agreecount != null" >
        AGREECOUNT,
      </if>
      <if test="againstcount != null" >
        AGAINSTCOUNT,
      </if>
      <if test="isallowedagree != null" >
        ISALLOWEDAGREE,
      </if>
      <if test="maxagreelimit != null" >
        MAXAGREELIMIT,
      </if>
      <if test="parentid != null" >
        PARENTID,
      </if>
      <if test="delmark != null" >
        DELMARK,
      </if>
      <if test="createtime != null" >
        CREATETIME,
      </if>
      <if test="createuserid != null" >
        CREATEUSERID,
      </if>
      <if test="modifytime != null" >
        MODIFYTIME,
      </if>
      <if test="modifyuserid != null" >
        MODIFYUSERID,
      </if>
      <if test="projectcontent != null" >
        PROJECTCONTENT,
      </if>
      <if test="provid != null" >
        PROVID,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides="," >
      <if test="id != null" >
        #{id,jdbcType=INTEGER},
      </if>
      <if test="projectname != null" >
        #{projectname,jdbcType=VARCHAR},
      </if>
      <if test="projectbrief != null" >
        #{projectbrief,jdbcType=VARCHAR},
      </if>
      <if test="projectstatus != null" >
        #{projectstatus,jdbcType=INTEGER},
      </if>
      <if test="projectlogo != null" >
        #{projectlogo,jdbcType=VARCHAR},
      </if>
      <if test="coverimage != null" >
        #{coverimage,jdbcType=VARCHAR},
      </if>
      <if test="starttime != null" >
        #{starttime,jdbcType=DATE},
      </if>
      <if test="crowdtime != null" >
        #{crowdtime,jdbcType=DATE},
      </if>
      <if test="examinetime != null" >
        #{examinetime,jdbcType=DATE},
      </if>
      <if test="endtime != null" >
        #{endtime,jdbcType=DATE},
      </if>
      <if test="agreecount != null" >
        #{agreecount,jdbcType=INTEGER},
      </if>
      <if test="againstcount != null" >
        #{againstcount,jdbcType=INTEGER},
      </if>
      <if test="isallowedagree != null" >
        #{isallowedagree,jdbcType=INTEGER},
      </if>
      <if test="maxagreelimit != null" >
        #{maxagreelimit,jdbcType=INTEGER},
      </if>
      <if test="parentid != null" >
        #{parentid,jdbcType=CHAR},
      </if>
      <if test="delmark != null" >
        #{delmark,jdbcType=INTEGER},
      </if>
      <if test="createtime != null" >
        #{createtime,jdbcType=TIMESTAMP},
      </if>
      <if test="createuserid != null" >
        #{createuserid,jdbcType=INTEGER},
      </if>
      <if test="modifytime != null" >
        #{modifytime,jdbcType=TIMESTAMP},
      </if>
      <if test="modifyuserid != null" >
        #{modifyuserid,jdbcType=INTEGER},
      </if>
      <if test="projectcontent != null" >
        #{projectcontent,jdbcType=LONGVARCHAR},
      </if>
      <if test="provid != null" >
        #{provid,jdbcType=VARCHAR},
      </if>
    </trim>
  </insert>
  <update id="updateByPrimaryKeySelective" parameterType="com.unisk.zc.entitys.Projects" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    update tb_d_projects
    <set >
      <if test="projectname != null" >
        PROJECTNAME = #{projectname,jdbcType=VARCHAR},
      </if>
      <if test="projectbrief != null" >
        PROJECTBRIEF = #{projectbrief,jdbcType=VARCHAR},
      </if>
      <if test="projectstatus != null" >
        PROJECTSTATUS = #{projectstatus,jdbcType=INTEGER},
      </if>
      <if test="projectlogo != null" >
        PROJECTLOGO = #{projectlogo,jdbcType=VARCHAR},
      </if>
      <if test="coverimage != null" >
        COVERIMAGE = #{coverimage,jdbcType=VARCHAR},
      </if>
      <if test="starttime != null" >
        STARTTIME = #{starttime,jdbcType=DATE},
      </if>
      <if test="crowdtime != null" >
        CROWDTIME = #{crowdtime,jdbcType=DATE},
      </if>
      <if test="examinetime != null" >
        EXAMINETIME = #{examinetime,jdbcType=DATE},
      </if>
      <if test="endtime != null" >
        ENDTIME = #{endtime,jdbcType=DATE},
      </if>
      <if test="agreecount != null" >
        AGREECOUNT = #{agreecount,jdbcType=INTEGER},
      </if>
      <if test="againstcount != null" >
        AGAINSTCOUNT = #{againstcount,jdbcType=INTEGER},
      </if>
      <if test="isallowedagree != null" >
        ISALLOWEDAGREE = #{isallowedagree,jdbcType=INTEGER},
      </if>
      <if test="maxagreelimit != null" >
        MAXAGREELIMIT = #{maxagreelimit,jdbcType=INTEGER},
      </if>
      <if test="parentid != null" >
        PARENTID = #{parentid,jdbcType=CHAR},
      </if>
      <if test="delmark != null" >
        DELMARK = #{delmark,jdbcType=INTEGER},
      </if>
      <if test="createtime != null" >
        CREATETIME = #{createtime,jdbcType=TIMESTAMP},
      </if>
      <if test="createuserid != null" >
        CREATEUSERID = #{createuserid,jdbcType=INTEGER},
      </if>
      <if test="modifytime != null" >
        MODIFYTIME = #{modifytime,jdbcType=TIMESTAMP},
      </if>
      <if test="modifyuserid != null" >
        MODIFYUSERID = #{modifyuserid,jdbcType=INTEGER},
      </if>
      <if test="projectcontent != null" >
        PROJECTCONTENT = #{projectcontent,jdbcType=LONGVARCHAR},
      </if>
      <if test="provid != null" >
        PROVID = #{provid,jdbcType=VARCHAR},
      </if>
    </set>
    where ID = #{id,jdbcType=INTEGER}
  </update>
  <update id="updateByPrimaryKeyWithBLOBs" parameterType="com.unisk.zc.entitys.Projects" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    update tb_d_projects
    set PROJECTNAME = #{projectname,jdbcType=VARCHAR},
      PROJECTBRIEF = #{projectbrief,jdbcType=VARCHAR},
      PROJECTSTATUS = #{projectstatus,jdbcType=INTEGER},
      PROJECTLOGO = #{projectlogo,jdbcType=VARCHAR},
      COVERIMAGE = #{coverimage,jdbcType=VARCHAR},
      STARTTIME = #{starttime,jdbcType=DATE},
      CROWDTIME = #{crowdtime,jdbcType=DATE},
      EXAMINETIME = #{examinetime,jdbcType=DATE},
      ENDTIME = #{endtime,jdbcType=DATE},
      AGREECOUNT = #{agreecount,jdbcType=INTEGER},
      AGAINSTCOUNT = #{againstcount,jdbcType=INTEGER},
      ISALLOWEDAGREE = #{isallowedagree,jdbcType=INTEGER},
      MAXAGREELIMIT = #{maxagreelimit,jdbcType=INTEGER},
      PARENTID = #{parentid,jdbcType=CHAR},
      DELMARK = #{delmark,jdbcType=INTEGER},
      CREATETIME = #{createtime,jdbcType=TIMESTAMP},
      CREATEUSERID = #{createuserid,jdbcType=INTEGER},
      MODIFYTIME = #{modifytime,jdbcType=TIMESTAMP},
      MODIFYUSERID = #{modifyuserid,jdbcType=INTEGER},
      PROJECTCONTENT = #{projectcontent,jdbcType=LONGVARCHAR},
      PROVID = #{provid,jdbcType=VARCHAR}
    where ID = #{id,jdbcType=INTEGER}
  </update>
  <update id="updateByPrimaryKey" parameterType="com.unisk.zc.entitys.Projects" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    update tb_d_projects
    set PROJECTNAME = #{projectname,jdbcType=VARCHAR},
      PROJECTBRIEF = #{projectbrief,jdbcType=VARCHAR},
      PROJECTSTATUS = #{projectstatus,jdbcType=INTEGER},
      PROJECTLOGO = #{projectlogo,jdbcType=VARCHAR},
      COVERIMAGE = #{coverimage,jdbcType=VARCHAR},
      STARTTIME = #{starttime,jdbcType=DATE},
      CROWDTIME = #{crowdtime,jdbcType=DATE},
      EXAMINETIME = #{examinetime,jdbcType=DATE},
      ENDTIME = #{endtime,jdbcType=DATE},
      AGREECOUNT = #{agreecount,jdbcType=INTEGER},
      AGAINSTCOUNT = #{againstcount,jdbcType=INTEGER},
      ISALLOWEDAGREE = #{isallowedagree,jdbcType=INTEGER},
      MAXAGREELIMIT = #{maxagreelimit,jdbcType=INTEGER},
      PARENTID = #{parentid,jdbcType=CHAR},
      DELMARK = #{delmark,jdbcType=INTEGER},
      CREATETIME = #{createtime,jdbcType=TIMESTAMP},
      CREATEUSERID = #{createuserid,jdbcType=INTEGER},
      MODIFYTIME = #{modifytime,jdbcType=TIMESTAMP},
      MODIFYUSERID = #{modifyuserid,jdbcType=INTEGER},
      PROVID = #{provid,jdbcType=VARCHAR},
    where ID = #{id,jdbcType=INTEGER}
  </update>
</mapper>